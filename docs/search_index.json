[["elcom.html", "Section 4 ELCOM Operartion 4.1 Introduction 4.2 Files for ELCOM", " Section 4 ELCOM Operartion 4.1 Introduction Running an ELCOM simulation requires the user to provide several types of data: Initial conditions Temporal boundary conditions Configuration parameters Output control ELCOM obtains this data from the user through user-prepared input files and pre-processor prepared input files. 4.2 Files for ELCOM ELCOM is a command-line executable that communicates with the user through files. Table 4.1 provides a summary of file types, whether their presence is required or optional, the purpose of the file, and responsibility for preparation of the file. File names in courier bold font without brackets are fixed named files (i.e., the file must be present with exactly that name). File names such as [data_name].unf use square brackets to indicate that ELCOM may substitute various names in the bracketed section (see following sections). File names such as .db use angle brackets to indicate sections of file names that the user can customize at the command line. Table 4.1: Files for ELCOM. File.Name Presence Usage Preparation Number run_elcom.dat required configuration control user 1 .db optional output control user 1 .dat optional boundary control user 10 .dat optional initial condition user 10 .dat optional scalar updates user 10 .dat optional drifter properties user 10 .dat optional drifter initial conditions user 10 .dat optional drifter updates user 10 .dat optional jet/pump file user 100 .dat optional drafttube file user 100 .dat optional temporal filter constants user 10 .unf required geometry data pre-processor 1 .unf required geometry data pre-processor 1 .unf output datablock output ELCOM no limit [data_name].unf output 3D data type output ELCOM no limit [time_].unf output simulation space output ELCOM no limit .unf output restart file ELCOM 1 elcom.exe required executable make 1 "],["simulation-modules.html", "Section 5 Simulation modules 5.1 Stratification 5.2 Tracers 5.3 Surface thermodynamics 5.4 Rain 5.5 Wind 5.6 Inflow/Outflow 5.7 Conservation of Background Potential Energy 5.8 Bubble Plume Destratification 5.9 Underflow 5.10 Water Age Modelling 5.11 Drifters / Particles 5.12 Jets/Pumps 5.13 Drafttubes 5.14 Non-hydrostatic code", " Section 5 Simulation modules ELCOM is organized into simulation modules that can be turned off/on depending on the type of simulation that is desired. A module is turned off/on by setting the value of control keywords. This is done within the run_elcom.dat file. These controls provide a simple method for modifying the simulation. For example: a boundary condition file can be set up to include both meteorological data and inflow data. As a simple test, the user decides to turn off the inflow. One approach would be to return to the pre-processor, eliminate the inflow boundary cell set, re-run the pre-processor, then modify the temporal boundary condition file to remove the inflow data. As a simpler approach, the user need only set iflow = 0, and the inflow data and boundary cell sets will be ignored. This section provides a brief overview of the modules within ELCOM and their corresponding keywords set within the run_elcom.dat file. 5.1 Stratification Density stratification in ELCOM can be through temperature, salinity, or both by using the controls itemperature and isalinity in combination with idensity = 1. If desired, temperature and salinity can be treated as passive tracers by setting idensity = 0. If temperature and/or salinity are turned on, they must be initialized throughout the simulation domain using the default_*** controls, initial condition files, or associated subroutines in elcom_user.f90. 5.2 Tracers Up to 10 passive tracers may be transported in a simulation. They may be initialized in the domain using initial condition files or may flow into the domain through an inflow boundary using keywords TRACER_** in a temporal boundary condition file. 5.3 Surface thermodynamics This module controls the heat transfer across the free surface. Required inputs (in temporal boundary condition files) include: solar radiation, wind speed, air temperature, and relative humidity. 5.4 Rain The rain module controls rain input into the free surface. Rain data in m/day must be provided in a temporal boundary condition file. 5.5 Wind Wind affects ELCOM simulations in three ways: Evaporative cooling in the surface thermodynamics module Wind stress on the free surface Wind-induced momentum source in the wind-mixed layer Use WIND_SPEED and WIND_DIR (linked to boundary cell set 0 for uniform application) or define multiple sections via section_top in bc.dat. ELCOM interpolates wind speed and direction in time. Vector interpolation isn’t supported, so consistent time intervals are recommended. Alternatively, use WIND_U and WIND_V. 5.6 Inflow/Outflow Inflow/outflow boundaries must be defined in bc.dat. Temporal boundary conditions for flow rate must be provided. Inflow conditions must also include scalar values. 5.7 Conservation of Background Potential Energy Numerical diffusion can destratify the domain, increasing background potential energy. A vertical sharpening filter can conserve energy but not mass. The filter applies to salinity (IFILTER = 2) or temperature (IFILTER = 3). Alternatively, use FILTER_&lt;SCALAR&gt; in run_elcom.dat with IFILTER = 1. Temporally varying filters are also supported. 5.8 Bubble Plume Destratification To simulate bubble destratification, define outlet locations in bc.dat. Temporal boundary conditions must specify airflow rates and the number of ports. 5.9 Underflow To simulate dense inflow using Dallimore et al. (2001)’s 2D model, define inflow boundaries and temporal conditions, including INFLOW_HEIGHT. Set IUNDERFLOW in run_elcom.dat. Note: Not compatible with CAEDYM. 5.10 Water Age Modelling Enable using IRETENTION in run_elcom.dat. Water age starts at zero and increments by del_t each timestep. Transported as a scalar. 5.11 Drifters / Particles Simulate Lagrangian or semi-Lagrangian particles using NDRIFTERS in run_elcom.dat. Define properties in drifter_properties_file and drifter_in_file. Updates via update_drifter_file. 5.12 Jets/Pumps To simulate jet/pump destratification, provide thrust, radius, and depth data in jet files. Controlled via IJET in run_elcom.dat. 5.13 Drafttubes For destratification impellors with draft tubes, specify thrust, radius, depth, and tube length in drafttube files. Controlled via ITUBE in run_elcom.dat. 5.14 Non-hydrostatic code To simulate non-hydrostatic pressure effects (as in Bothel et al.), note that finer horizontal resolution (~10m) is required and simulation runtime increases significantly. "],["sect:initfiles.html", "Section 6 Initialization 6.1 Uniform initial conditions 6.2 Vertical Profile", " Section 6 Initialization 6.1 Uniform initial conditions For simple initial conditions (e.g., distributing a scalar or setting a flat surface), use DEFAULT_**** keywords in run_elcom.dat. Default values can be overwritten by profile or horizontal files or initialization subroutines. 6.2 Vertical Profile Vertical scalar variation is defined using initial_profile_file (in the infiles directory). Format: Four header lines: Number of datasets (excluding depth) Number of depths (first column is DEPTH) i and j coordinates Column keywords (first must be DEPTH, rest valid scalar keywords) Data rows: Depth (in meters) and scalar values. Depths must start at zero and increase monotonically. Linear interpolation is used during simulation. Comments (!) can appear at the top of the file but not within the data block. Comment rows in headers must match column count. "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
